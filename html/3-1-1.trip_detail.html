
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, target-densitydpi=medium-dpi, user-scalable=yes, viewport-fit=cover">
<meta name="format-detection" content="telephone=no"/>
<title></title>

<link rel=" shortcut icon" href="../images/favicon/favicon.ico">
<link rel="icon" href="../images/favicon/favicon.ico">
<link rel="icon" href="../images/favicon/favicon-32.png" sizes="32x32">
<link rel="icon" href="../images/favicon/favicon-57.png" sizes="57x57">
<link rel="icon" href="../images/favicon/favicon-72.png" sizes="72x72">
<link rel="icon" href="../images/favicon/favicon-152.png" sizes="152x152">
<link rel="apple-touch-icon" href="../images/favicon/favicon.png" />

<link type="text/css" rel="stylesheet" href="../css/style.css" />
<link type="text/css" rel="stylesheet" href="../css/swiper.min.css" />
<script src="../js/jquery-3.6.1.min.js"></script>
<script src="../js/swiper.min.js"></script>
<script src="../js/ui.js"></script>
<!-- 퍼블만 사용-->
<script src="../js/ui-pub.js"></script>

</head>
<body>
<!-- wrap -->
<div class="wrap">
  <header class="header transparent">
    <div class="wrapper">
      <div class="left">
        <a href="javascript:history.back();" class="btn-back btn-circle"><i class="ico-back"></i></a>
      </div>
      <div class="right">
        <button class="btn-favorite st2 btn-circle"><i class="ico-heart3-off"></i><i class="ico-heart3-on"></i></button>
      </div>
    </div>
  </header>
  <!-- content -->
  <div class="content">
      <!-- tple-detail-wrap -->
      <div class="tple-detail-wrap">
        <!-- 비주얼 -->
        <div class="visual-slide">
          <div class="swiper-container">
              <ul class="swiper-wrapper">
                  <li class="swiper-slide">
                    <a href="javascript:void(0);">
                      <img src="../images/temp/temp-event5.jpg" alt="">
                    </a>
                  </li>
                  <li class="swiper-slide">
                    <a href="javascript:void(0);">
                      <img src="../images/temp/temp-event5.jpg" alt="">
                    </a>
                  </li>
              </ul>
          </div>
          <div class="swiper-pagination inside-bottom"></div>
        </div>
        <!-- // 비주얼 -->
        <!-- 비주얼 E쿠폰 -->
        <div class="visual-slide">
          <div class="swiper-container">
              <ul class="swiper-wrapper">
                  <li class="swiper-slide">
                    <a href="javascript:void(0);" class="img-prd">
                      <img src="../images/temp/temp-product.png" alt="">
                    </a>
                  </li>
                  <li class="swiper-slide">
                    <a href="javascript:void(0);" class="img-prd">
                      <img src="../images/temp/temp-product.png" alt="">
                    </a>
                  </li>
              </ul>
          </div>
          <div class="swiper-pagination inside-bottom"></div>
        </div>
        <!-- // 비주얼 -->

        <div class="detail-top-round top-sticky" data-top="40"></div>
        <div class="tple-detail-body detail-body-wrap">
          <h2 class="title">[서울] 서울랜드 입장권인데 2줄로 표기 가능하게 하이시즌 종일권(~7/31)</h2>
          <div class="info-wrap">
            <span class="tag">당일사용가능</span>
            <span class="tag">미 사용 100% 환불</span>
            <span class="tag">문자 MMS</span>

            <div class="right">
              <span class="c-light-gray">5일 남음</span>
            </div>
          </div>
          <div class="period">
            <span class="label"><i class="ico-cal-time"></i>판매기간</span>
            <span class="date">2022.07.01~2022.07.31</span>
          </div>
          <div class="prd-account">
            <span class="sale">10%<i class="ico-sale-dowm"></i></span>
            <span class="price">3,000원~</span>
            <span class="price-org">3,300원</span>
          </div>

          <div class="line-bar mg5"></div>

          <script>
            // 3-1-1.trip_detail.html, 4-2-4.product_detail_1.html 에서 사용
            // ※ 그외 1-5.goods_select.html(결합상품)에서는 레이어형태로 사용(다른html임)
            $(function(){
              // detail-info.html을 .tple-detail-body에 append
              loadInclude('detail-info', {pos:'.tple-detail-body'}, function(){
                setTimeout(function(){
                  tabMenu(95, true);
                }, 100);
                
                icon();
              }) 
            });
          </script>
          
        </div>
        <!-- // tple-detail-body -->
      </div>
      <!-- // tple-detail-wrap -->
  </div>
  <!-- // content -->

  <!--하단 고정버튼-->
  <div class="fixed-footer-wrap">
    <div class="btn-wrap">
      <button type="button" class="btn-type1 st1" onclick="btmPopOpen('#pop-prd-select');productOptionCheck()">바로 구매하기</button>
    </div>
  </div>   


  <!-- 상품선택 -->
  <div class="btm-popup-wrap" id="pop-prd-select" >
    <div class="pop-wrap">
      <div class="popup">
        <div class="pop-header">
          <strong class="tit">상품선택</strong>
          <span class="txt">(최대 구매수량 10매)</span>
          <button type="button" class="btn-close"><i class="ico-close"></i></button>
        </div>
        <div class="pop-body">
          <ul class="list-check-box">
            <li>
              <a href="javascript:void(0);" class="product-type1">
                <div class="desc space-st2">
                  <div class="desc-head-wrap">
                    <div class="desc-head column">
                      <div class="tit line2">
                        광동) 제주삼다수 5200ml
                      </div>
                      <div class="f-wrap expiration-period">
                        유효기간
                        <span class="date">2022.07.01~2022.08.31</span>
                      </div>
                    </div>
                  </div>
                  <div class="info">
                    <div class="f-wrap">
                      <div class="account">
                        <span class="price fs-lg medium">900원</span>
                      </div>
                      <div class="right">
                        <div class="inp-num-type1" data-max="5">
                          <button type="button" class="btn down" title="감소"></button>
                          <input type="number" value="0" class="num" name="option-number" id="product-opt-1">
                          <button type="button" class="btn up" title="증가" onclick="maxNumCheck(5);"></button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </a>
            </li>
            <li>
              <a href="javascript:void(0);" class="product-type1">
                <div class="desc space-st2">
                  <div class="desc-head-wrap">
                    <div class="desc-head column">
                      <div class="tit line2">
                        광동) 제주삼다수 5200ml 이어지는 상품명
                        광동) 제주삼다수 5200ml 이어지는 상품명
                        광동) 제주삼다수 5200ml 이어지는 상품명
                      </div>
                      <div class="f-wrap expiration-period">
                        유효기간
                        <span class="date">2022.07.01~2022.08.31</span>
                      </div>
                    </div>
                  </div>
                  <div class="info">
                    <div class="f-wrap">
                      <div class="account">
                        <span class="price fs-lg medium">900원</span>
                      </div>
                      <div class="right">
                        <div class="inp-num-type1" data-max="10">
                          <button type="button" class="btn down" title="감소"></button>
                          <input type="number" value="0" class="num" name="option-number">
                          <button type="button" class="btn up" title="증가"></button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </a>
            </li>
          </ul>
        </div>
        <div class="pop-footer">
          <div class="btn-wrap">
            <button type="button" class="btn-type1 st1" id="btn-pop-prd-select" disabled onclick="btmPopClose('#pop-prd-select');location.href='3-9.tiple_payment.html'">
              <span class="no-selected">상품을 선택하세요.</span>
              <span class="selected" style="display:none"><span id="option-number">0</span>개 구매하기 ㅣ <span>203,000원</span></span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
<!-- // wrap -->

<script>
  // E쿠폰 상세페이지 일경우
  if(location.href.match('#ecoupon')){
   $('.visual-slide').eq(0).remove();
  }else{
    $('.visual-slide').eq(1).remove();
  }

  slider('.visual-slide', {
    loop: true,
    freeMode: false,
    slidesPerView: 1,
    pagination: {
      el: ".visual-slide .swiper-pagination",
      clickable: true,
    },    
  });

  headerTransparent('.detail-top-round')

  // tabMenuScroll('#tab-scroll', 95); // 위의 loadInclude 쪽으로 이동시킴
 
  let optionNumber = 0;

  function productOptionCheck(){
    prdCheckOn('#pop-prd-select .product-type1', null, function(){
      let checked = 0;
      $('#pop-prd-select .product-type1 .num').each(function(){
        if($(this).val() > 0){
          checked += 1
        }
      });

      if(checked > 0){
        $('#btn-pop-prd-select').removeAttr('disabled');
        $('#btn-pop-prd-select .no-selected').hide();
        $('#btn-pop-prd-select .selected').show();
      }else{
        $('#btn-pop-prd-select').attr('disabled', 'disabled');
        $('#btn-pop-prd-select .no-selected').show();
        $('#btn-pop-prd-select .selected').hide();   
      }

      optionNumber = 0
      for(let i=0;i<$('[name=option-number]').length;i++){
        optionNumber += parseInt($('[name=option-number]').eq(i).val());
      }
      
      $('#option-number').text(optionNumber);
    }, function(){
      if(optionNumber >= 10 ) {
        if(!$(event.currentTarget).hasClass('on')){
        //  alertOpen('최대 10개까지만 구매 가능합니다.', ['확인']);
        toastOpen('최대 10개까지만 구매 가능합니다.', null, true);
          return true
        }
      }
    });
  }

  countInput('#pop-prd-select .product-type1 .inp-num-type1', null, function(){
    if(optionNumber >= 10 ) {
      if($(event.target).hasClass('up')){
        //  alertOpen('최대 10개까지만 구매 가능합니다.', ['확인']);
        toastOpen('최대 10개까지만 구매 가능합니다.', null, true);
          return true
        }
      }
  });


  function maxNumCheck(num){
    if($('#product-opt-1').val() >= num - 1){
      toastOpen('최대 '+num+'개까지만 구매 가능합니다.');
    }
  }



</script>

</body>
</html>